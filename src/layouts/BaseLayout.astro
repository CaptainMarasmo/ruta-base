---
const {
  title = "Ruta Base",
  useVideoBg = false,
  bgImage = "/fondo.png",
} = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>

    <style>
      :root {
        font-family: "Inter", "SF Pro Text", system-ui, -apple-system, sans-serif;
        color: #1a0b2e;
        --ink: #1a0b2e;
        --muted: #5c5c6b;
        --primary: #6a4cff;
        --primary-strong: #5634ff;
        --surface: rgba(255,255,255,0.84);
        --surface-strong: rgba(255,255,255,0.95);
        --border: rgba(90, 40, 160, 0.12);
        --shadow: 0 18px 45px rgba(50, 20, 110, 0.12);
      }
      html, body { height: 100%; }

      body{
        margin: 0;
        background: var(--bg) center/cover no-repeat fixed;
        position: relative;
        min-height: 100vh;
        color: var(--ink);
      }

      /* Si hay vídeo en esta página, quitamos la imagen */
      body[data-video="1"]{
        background: none;
      }

      /* Vídeo solo en Inicio cuando se active */
      #bg-video{
        position: fixed;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -1;
      }

      /* Capa blanca para legibilidad */
      body::before{
        content:"";
        position: fixed;
        inset: 0;
        background: linear-gradient(180deg, rgba(255,255,255,0.82) 0%, rgba(255,255,255,0.72) 55%, rgba(255,255,255,0.85) 100%);
        pointer-events: none;
        z-index: 0;
      }

      /* Barra morada estrecha */
      header{
        position: sticky;
        top: 0;
        height: 54px;
        background: rgba(255, 255, 255, 0.72);
        border-bottom: 1px solid var(--border);
        z-index: 2;
        backdrop-filter: blur(10px);
        overflow: hidden;
      }

      nav{
        height: 54px;
        display: flex;
        gap: 10px;
        padding: 0 16px;
        overflow-x: auto;
        align-items: center;
        box-sizing: border-box;
      }

      /* TU ESTILO (tal cual) */
      nav a{
        display: inline-block;
        text-decoration: none;
        color: var(--ink);
        padding: 6px 12px;
        border-radius: 999px;
        white-space: nowrap;
        font-weight: 700;
        font-size: 13px;
        line-height: 1;
      }

      nav a:hover{
        background: rgba(106, 76, 255, 0.12);
      }

      main{
        position: relative;
        z-index: 1;
        padding: 28px 18px 60px;
        max-width: 1120px;
        margin: 0 auto;
      }

      .muted{ color: var(--muted); font-size: 15px; line-height: 1.5; }
      .grid{ display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); }
      .card{
        border: 1px solid var(--border);
        border-radius: 18px;
        padding: 18px;
        background: var(--surface);
        box-shadow: 0 10px 28px rgba(60, 30, 120, 0.08);
      }
      .section{ margin: 40px 0; }
      .section-title{ font-size: 26px; margin: 0 0 10px; }
      .section-subtitle{ margin: 0 0 18px; }
      .pill{
        display: inline-flex;
        gap: 8px;
        align-items: center;
        padding: 6px 14px;
        border-radius: 999px;
        background: rgba(106, 76, 255, 0.12);
        color: var(--primary);
        font-weight: 600;
        font-size: 13px;
      }
      .button{
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 12px 20px;
        border-radius: 999px;
        border: 1px solid transparent;
        text-decoration: none;
        font-weight: 700;
        font-size: 14px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      .button:hover{ transform: translateY(-1px); }
      .button.primary{
        background: linear-gradient(135deg, var(--primary), var(--primary-strong));
        color: #fff;
        box-shadow: 0 12px 25px rgba(86, 52, 255, 0.28);
      }
      .button.ghost{
        background: var(--surface-strong);
        color: var(--ink);
        border-color: var(--border);
      }
      .shadow-card{
        background: var(--surface);
        border-radius: 20px;
        border: 1px solid var(--border);
        box-shadow: var(--shadow);
      }
    </style>
  </head>

  <body data-video={useVideoBg ? "1" : "0"} style={`--bg: url('${bgImage}')`}>
    {useVideoBg && (
      <video id="bg-video" autoplay muted loop playsinline preload="auto">
        <source src="/fondo.mp4" type="video/mp4" />
      </video>
    )}

    <header>
      <nav>
        <a href="/">Inicio</a>
        <a href="/viajes">Viajes</a>
        <a href="/ev">EV</a>
        <a href="/msfs">Vuelo Virtual</a>
        <a href="/galeria">Galería</a>
        <a href="/mapas">Mapas</a>
        <a href="/consejos">Consejos</a>
        <a href="/sobre">Sobre mí</a>
      </nav>
    </header>

    <main>
      <slot />
    </main>
  </body>
</html>

